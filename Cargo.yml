package:

  name   : thespis_impl
  version: 0.1.0
  authors: [ Naja Melan <najamelan@autistici.org> ]
  edition: '2018'

  metadata:
    docs.rs:
      all-features: true

lib:

  bench: false



dependencies:

  thespis         : { path: ../thespis_iface }
  failure         : ^0.1
  futures-preview : { version: ^0.3.0-alpha, features: [ std, compat, nightly ], default-features: false }
  log             : ^0.4
  simple_logger   : ^1
  regex           : { version: ^1, features: [ pattern ] }
  once_cell       : ^1.0.0-pre
  async_runtime   : { version: ^0.3, package: naja_async_runtime, default-features: false }


target:

  'cfg(target_arch = "wasm32")':

    dependencies:

      wasm-bindgen-futures: { version: ^0.3, features: [ futures_0_3 ] }


dev-dependencies:

  actix             : ^0.8
  criterion         : { version: ^0.3           , features: [ real_blackbox ]          }
  tokio             : { version: ^0.1 , default-features: false, features: [ rt-full ] }

  pretty_assertions : ^0.6
  flexi_logger      : ^0.14
  async_runtime     : { version: ^0.3, package: naja_async_runtime }


bench:

  - name   : single_thread_delivery
    path   : benches/single_thread/delivery.rs
    harness: false

  - name   : multi_thread_delivery
    path   : benches/multi_thread/delivery.rs
    harness: false


profile:

  release:

    opt-level    : 3
    codegen-units: 1

    lto          : false
    debug        : true
