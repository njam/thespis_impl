package:

  name   : thespis_impl
  version: 0.1.0
  authors: [ Naja Melan <najamelan@autistici.org> ]
  edition: '2018'

  metadata:
    docs.rs:
      all-features: true

lib:

  bench: false


features:

  default: [ tokio ]


dependencies:

  thespis             : { path: ../thespis_iface }
  failure             : ^0.1
  futures-preview     : { version: ^0.3.0-alpha.16, features: [ std, compat, nightly ], default-features: false }
  log                 : ^0.4
  simple_logger       : ^1
  regex               : { version: ^1, features: [ pattern ] }
  once_cell           : ^0.1

  # tokio stuff
  #

  tokio:

    version          : ^0.1
    features         : [rt-full]
    default-features : false
    optional         : true


dev-dependencies:

  actix             : ^0.8
  criterion         : { version: ^0.2           , features: [ real_blackbox ]                                 }
  futures-preview   : { version: ^0.3.0-alpha.16, default-features: false, features: [ std, compat, nightly ] }
  tokio             : { version: ^0.1 , default-features: false, features: [ rt-full, tcp, codec ] }

  pretty_assertions : ^0.6
  flexi_logger      : ^0.11


bench:

  - name   : single_thread_delivery
    path   : benches/single_thread/delivery.rs
    harness: false

  - name   : multi_thread_delivery
    path   : benches/multi_thread/delivery.rs
    harness: false


profile:

  release:

    opt-level    : 3
    codegen-units: 1

    lto          : false
    debug        : true
